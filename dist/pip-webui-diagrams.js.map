{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/mind_map/MindMap.ts","src/mind_map/index.ts"],"names":[],"mappings":"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","file":"pip-webui-diagrams.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import './mind_map';\r\n\r\nangular.module('pipDiagrams', [\r\n    'pipMindMap'\r\n]);","{\r\n    interface IMindMapBindings {\r\n        [key: string]: any;\r\n\r\n        data: any;\r\n    }\r\n\r\n    const MindMapBindings: IMindMapBindings = {\r\n        data: '<pipData'\r\n    }\r\n\r\n    class MindMapBindingsChanges implements ng.IOnChangesObject, IMindMapBindings {\r\n        [key: string]: any;\r\n\r\n        data: ng.IChangesObject < any > ;\r\n    }\r\n\r\n    class MindMapController implements ng.IController, IMindMapBindings {\r\n        private duration: number = 750;\r\n        private root: any;\r\n        private margin: any = {\r\n            top: 20,\r\n            right: 120,\r\n            bottom: 20,\r\n            left: 120\r\n        };\r\n        private parent: JQuery;\r\n        private height: number;\r\n        private width: number;\r\n        private viewerWidth: number = $(document).width();\r\n        private viewerHeight: number = $(document).height();\r\n        private svg: any;\r\n        private zoomListener: any;\r\n        private dropShadowFilter: any;\r\n        private tree: d3.layout.Tree < any > ;\r\n        private line: d3.svg.Line < any > ;\r\n        private isDragLinkHead: boolean = false;\r\n        private selectedLink: any = null;\r\n        private newNode: any = null;\r\n        private dragedCircle: any = null;\r\n        private startPointOfHead: any = {\r\n            x: null,\r\n            y: null\r\n        };\r\n        private endPointOfHead: any = {\r\n            x: null,\r\n            y: null\r\n        };\r\n        private i: number = 0;\r\n\r\n        public data: any[];\r\n\r\n        constructor(\r\n            private $element: JQuery\r\n        ) {\r\n            this.zoomListener = d3.behavior.zoom().scaleExtent([0.2, 2.5]).on('zoom', () => {\r\n                this.zoom();\r\n            });\r\n\r\n            this.initComponent();\r\n        }\r\n\r\n        public initComponent() {\r\n            this.parent = this.$element.parent();\r\n            this.height = this.parent.height();\r\n            this.width = this.parent.width();\r\n\r\n            this.initSvg();\r\n            this.initArrowMarkers();\r\n            this.initShadowFilter();\r\n            this.initCommonVars();\r\n\r\n            if (!this.data || !_.isArray(this.data)) return;\r\n\r\n            this.setRoot();\r\n            this.update(this.root);\r\n            this.centerNode(this.root);\r\n            d3.select(self.frameElement).style(\"height\", \"500px\");\r\n        }\r\n\r\n        private setRoot() {\r\n            // Init coordinates for root element\r\n            this.root = this.data[0];\r\n            this.root.x0 = this.height / 2;\r\n            this.root.y0 = 0;\r\n        }\r\n\r\n        public $onChanges(changes: MindMapBindingsChanges) {\r\n            if (changes.data && changes.data.currentValue !== changes.data.previousValue) {\r\n                this.data = changes.data.currentValue;\r\n                this.setRoot();\r\n                this.update(this.root);\r\n                this.centerNode(this.root);\r\n            }\r\n        }\r\n\r\n        private initSvg() {\r\n            this.svg = d3\r\n                .select(this.$element.get(0))\r\n                .append(\"svg\")\r\n                .attr('id', 'root')\r\n                .attr(\"width\", this.viewerWidth)\r\n                .attr(\"height\", this.height - 4) // Minus 4 to avoid the appearance of a scroll\r\n                .call(this.zoomListener)\r\n                .append(\"g\")\r\n                .attr('class', 'baseG')\r\n                .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\r\n        }\r\n\r\n        private initArrowMarkers() {\r\n            this.svg\r\n                .append(\"marker\")\r\n                .attr({\r\n                    \"id\": \"arrow\",\r\n                    \"viewBox\": \"0 -5 10 10\",\r\n                    \"refX\": 36,\r\n                    \"refY\": 0,\r\n                    \"markerWidth\": 4,\r\n                    \"markerHeight\": 4,\r\n                    \"orient\": \"auto\"\r\n                })\r\n                .append(\"path\")\r\n                .attr(\"d\", \"M0,-5L10,0L0,5\")\r\n                .attr(\"class\", \"arrowHead\");\r\n\r\n            this.svg\r\n                .append(\"marker\")\r\n                .attr({\r\n                    \"id\": \"arrowSelected\",\r\n                    \"viewBox\": \"0 -5 10 10\",\r\n                    \"refX\": 52,\r\n                    \"refY\": 0,\r\n                    \"markerWidth\": 4,\r\n                    \"markerHeight\": 4,\r\n                    \"orient\": \"auto\"\r\n                })\r\n                .append(\"path\")\r\n                .attr(\"d\", \"M0,-5L10,0L0,5\")\r\n                .attr(\"class\", \"arrowSelectedHead\");\r\n        }\r\n\r\n        private initShadowFilter() {\r\n            this.dropShadowFilter = this.svg.append('svg:filter')\r\n                .attr('id', 'drop-shadow')\r\n                .attr('height', '130%');\r\n            this.dropShadowFilter.append('svg:feGaussianBlur')\r\n                .attr('in', 'SourceAlpha')\r\n                .attr('stdDeviation', 1)\r\n                .attr('result', 'blur');\r\n            this.dropShadowFilter.append('svg:feOffset')\r\n                .attr('in', 'blur')\r\n                .attr('dx', 0)\r\n                .attr('dy', 2)\r\n                .attr('result', 'offsetBlur');\r\n            this.dropShadowFilter.append('svg:feComponentTransfer')\r\n                .attr('in', 'offsetBlur')\r\n                .attr('result', 'transfer')\r\n                .append('svg:feFuncA')\r\n                .attr('type', 'linear')\r\n                .attr('slope', 0.4);\r\n            this.dropShadowFilter.append('svg:feBlend')\r\n                .attr('in', 'SourceGraphic')\r\n                .attr('in2', 'transfer')\r\n                .attr('mode', 'normal');\r\n        }\r\n\r\n        private initCommonVars() {\r\n            this.tree = d3.layout.tree()\r\n                .size([this.viewerWidth, this.viewerHeight])\r\n                .nodeSize([50, 600])\r\n                .separation(function (a, b) {\r\n                    return (a.parent == b.parent ? 1 : 2) / a.depth;\r\n                });\r\n\r\n            this.line = d3.svg.line()\r\n                .x(function (d: any) {\r\n                    return d.x;\r\n                })\r\n                .y(function (d: any) {\r\n                    return d.y;\r\n                })\r\n                .interpolate('linear');\r\n\r\n                console.log();\r\n        }\r\n\r\n        private update(source: any) {\r\n            if (!this.tree) return;\r\n\r\n            const updatePoints = () => {\r\n                _.each(nodes, (d) => {\r\n                    if (d.fx && d.fy) {\r\n                        d.x = d.fx;\r\n                        d.y = d.fy;\r\n                    }\r\n                });\r\n            }\r\n\r\n            const updateLinks = () => {\r\n                const allLinks = this.svg.selectAll(\"path.link\");\r\n\r\n                allLinks\r\n                    .attr('sx', function (d) {\r\n                        return d.source.x;\r\n                    })\r\n                    .attr('sy', function (d) {\r\n                        return d.source.y;\r\n                    })\r\n                    .attr('tx', function (d) {\r\n                        return d.target.x;\r\n                    })\r\n                    .attr('ty', function (d) {\r\n                        return d.target.y;\r\n                    });\r\n            }\r\n\r\n            const getTransform = (d) => {\r\n                if (d.userDragged) {\r\n                    return \"translate(\" + d.x + \",\" + d.y + \")\";\r\n                } else {\r\n                    return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \", 0)\";\r\n                }\r\n            }\r\n\r\n            // Compute the new tree layout\r\n            const nodes = this.tree.nodes(this.root).reverse(),\r\n                links = this.tree.links(nodes);\r\n\r\n            // Update the nodes…\r\n            const node = this.svg.selectAll(\"g.node\")\r\n                .data(nodes, (d) => {\r\n                    return d.id || (d.id = ++this.i);\r\n                });\r\n            updatePoints();\r\n\r\n            const dragNodeVar = d3.behavior.drag()\r\n                .origin(Object)\r\n                .on(\"dragstart\", (d: any) => {\r\n                    this.removeLinkSelections();\r\n                    d.dragThisTime = false;\r\n                    d3.event['sourceEvent'].stopPropagation();\r\n                })\r\n                .on(\"dragend\", (d: any) => {\r\n                    updatePoints();\r\n                    updateLinks();\r\n                })\r\n                .on(\"drag\", (d: any) => {\r\n                    this.dragNode(d);\r\n                });\r\n\r\n            // Enter any new nodes at the parent's previous position.\r\n            const nodeEnter = node.enter().append(\"g\")\r\n                .attr(\"class\", \"node\")\r\n                .attr(\"transform\", (d) => {\r\n                    return getTransform(source);\r\n                })\r\n                .on(\"dblclick\", (d) => {\r\n                    this.dblclickNode(d);\r\n                })\r\n                .on(\"click\", (d) => {\r\n                    this.clickNode(d);\r\n                })\r\n                .on(\"mouseover\", (d) => {\r\n                    this.mouseoverNode(d);\r\n                })\r\n                .on(\"mouseout\", (d) => {\r\n                    this.mouseoutNode(d);\r\n                })\r\n                .call(dragNodeVar);\r\n\r\n            // Pattern to fill circle by avatar\r\n            nodeEnter.append(\"pattern\")\r\n                .attr(\"id\", (d) => {\r\n                    return 'pattern-image-' + d.id;\r\n                })\r\n                .attr(\"height\", 1)\r\n                .attr(\"width\", 1)\r\n                .attr(\"x\", \"0\")\r\n                .attr(\"y\", \"0\")\r\n                .append('image')\r\n                .attr('x', 0)\r\n                .attr('y', 0)\r\n                .attr('height', 64)\r\n                .attr('width', 64)\r\n                .attr(\"xlink:href\", (d) => {\r\n                    return d.img;\r\n                });\r\n\r\n            nodeEnter.append('circle')\r\n                .attr('r', 16)\r\n                .attr('class', 'substrate')\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .style('filter', 'url(#drop-shadow)');\r\n\r\n            // Node circle\r\n            nodeEnter.append('circle')\r\n                .attr('r', 16)\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .attr('class', 'goal-avatar')\r\n                .attr('fill', (d) => {\r\n                    return \"url(#pattern-image-\" + d.id + \")\";\r\n                });\r\n\r\n            // Name of the node\r\n            nodeEnter\r\n                .append(\"text\")\r\n                .attr(\"x\", 36)\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .attr(\"text-anchor\", \"start\")\r\n                .text((d) => {\r\n                    return d.title;\r\n                })\r\n                .call(this.getBB)\r\n                .style(\"display\", 'none');\r\n\r\n            nodeEnter\r\n                .append('svg:foreignObject')\r\n                .attr('class', 'input-object')\r\n                .attr(\"x\", 33)\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .attr(\"y\", -11)\r\n                .attr(\"width\", (d) => {\r\n                    return d.bbox.width + 16\r\n                })\r\n                .attr(\"height\", (d) => {\r\n                    return d.bbox.height\r\n                })\r\n                .append('xhtml:input')\r\n                .attr('disabled', true)\r\n                .attr('value', (d) => {\r\n                    return d.title;\r\n                })\r\n                .on('click', (d) => {\r\n                    this.onNodeTextClick(d);\r\n                })\r\n                .on('keydown', (d) => {\r\n                    this.onChangeNodeName(d);\r\n                })\r\n                .on('focus', (d) => {\r\n                    d.changingName = true;\r\n                })\r\n                .on('blur', (d) => {\r\n                    d.changingName = false;\r\n                })\r\n                .style('width', (d) => {\r\n                    return (d.bbox.width + 16) + 'px'\r\n                })\r\n                .style('height', (d) => {\r\n                    return (d.bbox.height) + 'px'\r\n                });\r\n\r\n            // Transition nodes to their new position.\r\n            const nodeUpdate = node.transition()\r\n                .duration(this.duration)\r\n                .attr(\"transform\", (d) => {\r\n                    return getTransform(d);\r\n                })\r\n                .each('end', function (d, i) {\r\n                    d.treeX = _.clone(d.x);\r\n                    d.treeY = _.clone(d.y);\r\n\r\n                    d.x = d3.transform(d3.select(this).attr(\"transform\")).translate[0];\r\n                    d.y = d3.transform(d3.select(this).attr(\"transform\")).translate[1];\r\n\r\n                    d.fx = d3.transform(d3.select(this).attr(\"transform\")).translate[0];\r\n                    d.fy = d3.transform(d3.select(this).attr(\"transform\")).translate[1];\r\n                    d.userDragged = true;\r\n                });\r\n\r\n            nodeUpdate.select(\"circle\")\r\n                .style(\"fill\", (d) => {\r\n                    return \"url(\" + d.img + \")\";\r\n                })\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .attr(\"r\", '32px');\r\n\r\n            nodeUpdate.select(\".goal-avatar\")\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .attr(\"r\", '32px');\r\n\r\n            nodeUpdate.select(\"foreignObject.input-object\")\r\n                .attr('transform', (d) => {\r\n                    return d.userDragged ? \"\" : \"rotate(\" + (-d.x + 90) + \")\";\r\n                })\r\n                .style(\"fill-opacity\", 1);\r\n\r\n            // Transition exiting nodes to the parent's new position.\r\n            const nodeExit = node.exit();\r\n            nodeExit\r\n                .select(\".input-object\")\r\n                .style(\"opacity\", 0);\r\n            nodeExit\r\n                .transition()\r\n                .duration(this.duration)\r\n                .attr(\"transform\", (d) => {\r\n                    return getTransform(source);\r\n                })\r\n                .remove();\r\n\r\n            nodeExit.select(\"circle\")\r\n                .attr(\"r\", 16)\r\n                .style(\"fill-opacity\", 0);\r\n\r\n            // Update the links…\r\n            const link = this.svg.selectAll(\"g.link-form\")\r\n                .data(links, (d) => {\r\n                    return d.target.id;\r\n                });\r\n\r\n            // Enter any new links at the parent's previous position.\r\n            link.enter()\r\n                .insert(\"g\", \"g\")\r\n                .attr('class', 'link-form')\r\n                .insert(\"path\")\r\n                .attr(\"class\", (d) => {\r\n                    return \"link arrow \" + \"to-\" + d.target.id + \" from-\" + d.source.id;\r\n                })\r\n                .style(\"opacity\", 0)\r\n                .attr(\"d\", () => {\r\n                    return this.line(\r\n                        [{\r\n                                'x': source.y0,\r\n                                'y': source.x0\r\n                            },\r\n                            {\r\n                                'x': source.y0,\r\n                                'y': source.x0\r\n                            }\r\n                        ]\r\n                    )\r\n                })\r\n                .on('click', (d) => {\r\n                    this.onLinkClick(d);\r\n                });\r\n\r\n            // Transition links to their new position.\r\n            link\r\n                .transition()\r\n                .duration(this.duration)\r\n                .select(\"path.link\")\r\n                .each('end', (l, i) => {\r\n                    d3.select(d3.selectAll('path.link')[0][i])\r\n                        .attr({\r\n                            \"d\": (d) => {\r\n                                return this.line(\r\n                                    [{\r\n                                            'x': d.source.x,\r\n                                            'y': d.source.y\r\n                                        },\r\n                                        {\r\n                                            'x': d.target.x,\r\n                                            'y': d.target.y\r\n                                        }\r\n                                    ]\r\n                                );\r\n                            }\r\n                        })\r\n                        .attr('sx', (d) => {\r\n                            return d.source.x;\r\n                        })\r\n                        .attr('sy', (d) => {\r\n                            return d.source.y;\r\n                        })\r\n                        .attr('tx', (d) => {\r\n                            return d.target.x;\r\n                        })\r\n                        .attr('ty', (d) => {\r\n                            return d.target.y;\r\n                        })\r\n                        .style(\"opacity\", 1)\r\n                        .attr({\r\n                            \"marker-end\": \"url(#arrow)\"\r\n                        });\r\n                });\r\n\r\n            // Transition exiting nodes to the parent's new position.\r\n            link.exit().transition().remove();\r\n\r\n            // Stash the old positions for transition.\r\n            _.each(nodes, (d) => {\r\n                d.x0 = d.x;\r\n                d.y0 = d.y;\r\n            });\r\n        }\r\n\r\n        private dblclickNode(d) {\r\n            this.removeLinkSelections();\r\n            d3.event['stopPropagation']();\r\n\r\n            if (d.children) {\r\n                d._children = d.children;\r\n                d.children = null;\r\n            } else {\r\n                d.children = d._children;\r\n                d._children = null;\r\n            }\r\n            this.update(d);\r\n            this.centerNode(d);\r\n        }\r\n\r\n        private showNodeActions(element, d) {\r\n            var positions = [{\r\n                    x: 40,\r\n                    y: -40\r\n                }, {\r\n                    x: 0,\r\n                    y: -55\r\n                }, {\r\n                    x: -40,\r\n                    y: -40\r\n                }, {\r\n                    x: -55,\r\n                    y: 0\r\n                }, {\r\n                    x: -40,\r\n                    y: 40\r\n                }, {\r\n                    x: 0,\r\n                    y: 55\r\n                }],\r\n                curElement = d3.select($(element).parent('.node').get(0));\r\n\r\n            curElement\r\n                .attr('class', 'node selected')\r\n                .select('.input-object')\r\n                .attr(\"width\", (d) => {\r\n                    return Math.min(d.bbox.width + 16, 250)\r\n                })\r\n                .attr(\"height\", (d) => {\r\n                    return d.bbox.height + 16\r\n                })\r\n                .attr(\"y\", -19)\r\n                .select('input')\r\n                .attr('disabled', false)\r\n                .style(\"width\", (d) => {\r\n                    return Math.min(d.bbox.width + 16, 250) + 'px'\r\n                })\r\n                .style(\"height\", (d) => {\r\n                    return (d.bbox.height + 16) + 'px'\r\n                });\r\n\r\n            for (var i = 0; i < 6; i++) {\r\n                curElement\r\n                    .append('circle')\r\n                    .attr('r', 0)\r\n                    .attr('actionNumber', i)\r\n                    .attr('class', 'goal-action')\r\n                    .attr('transform', function (d) {\r\n                        return d.userDragged ? \"\" : \"rotate(\" + (-d.treeX + 90) + \")\";\r\n                    })\r\n                    .attr('cx', positions[i].x)\r\n                    .attr('cy', positions[i].y)\r\n                    .style('filter', 'url(#drop-shadow)')\r\n                    .on('click', (d) => {\r\n                        this.onNodeActionClick(d, this);\r\n                    })\r\n                    .transition()\r\n                    .duration(200 * (i + 1))\r\n                    .attr('r', 16);\r\n            }\r\n\r\n            d.nodeSelected = true;\r\n        }\r\n\r\n        private hideNodeActions(element, d) {\r\n            var curElement = d3.select($(element).parent('.node').get(0));\r\n\r\n            curElement\r\n                .attr('class', 'node')\r\n                .selectAll('.goal-action')\r\n                .transition()\r\n                .duration(this.duration - 400)\r\n                .attr('r', 0)\r\n                .remove();\r\n\r\n            curElement\r\n                .select('.input-object')\r\n                .attr(\"y\", -11)\r\n                .attr(\"width\", function (d) {\r\n                    return Math.min(d.bbox.width + 16, 250)\r\n                })\r\n                .attr(\"height\", function (d) {\r\n                    return d.bbox.height\r\n                })\r\n                .select('input')\r\n                .attr('disabled', true)\r\n                .style(\"width\", function (d) {\r\n                    return Math.min(d.bbox.width + 16, 250) + 'px'\r\n                })\r\n                .style(\"height\", function (d) {\r\n                    return d.bbox.height + 'px'\r\n                });\r\n\r\n            d.nodeSelected = false;\r\n        }\r\n\r\n        private clickNode(d) {\r\n            this.removeLinkSelections();\r\n            if (d.dragThisTime) return;\r\n\r\n            d.clicked = !d.clicked;\r\n            d.clicked ? this.showNodeActions(d3.event['target'], d) : this.hideNodeActions(d3.event['target'], d);\r\n        }\r\n\r\n        private onNodeTextClick(d) {\r\n            if (d.nodeSelected) {\r\n                d3.event['stopPropagation']();\r\n            }\r\n        }\r\n\r\n        private removeLinkSelections() {\r\n            d3.selectAll('path.link')\r\n                .attr({\r\n                    \"marker-end\": \"url(#arrow)\"\r\n                })\r\n                .classed('selected', false);\r\n\r\n            d3.selectAll('.circleHead')\r\n                .remove();\r\n\r\n            this.selectedLink = null;\r\n        }\r\n\r\n        private onChangeNodeName(d) { // get target\r\n            //const curElement = d3.select(/*this.parentNode.parentNode*/);\r\n\r\n            //d.title = this.value;\r\n            /*\r\n                        curElement\r\n                            .select('text')\r\n                            .style('display', null)\r\n                            .text(d.title)\r\n                            .call(this.getBB)\r\n                            .style('display', 'none');\r\n\r\n                        curElement\r\n                            .select('.input-object')\r\n                            .transition()\r\n                            .duration(this.duration - 400)\r\n                            .attr(\"width\", function (d) {\r\n                                return Math.min(d.bbox.width + 16, 250)\r\n                            })\r\n                            .select('input')\r\n                            .style(\"width\", function (d) {\r\n                                return Math.min(d.bbox.width + 16, 250) + 'px'\r\n                            });*/\r\n        }\r\n\r\n        private onNodeActionClick(d, element) {\r\n            d3.event['stopPropagation']();\r\n\r\n            console.log('source: ', d);\r\n            console.log('action number: ', element.attributes.actionNumber.value);\r\n        }\r\n\r\n        private mouseoverNode(d) { // get target\r\n            if (this.isDragLinkHead) {\r\n                console.log('dragedCircle.attributes.type.value', this.dragedCircle.attributes.type.value);\r\n                /*\r\n                                if (d.id == '1' && this.dragedCircle.attributes.type.value == 'end' && this.selectedLink.__data__.source.id != '1') {\r\n                                    d3.select(this)\r\n                                        .classed(\"hover\", true)\r\n                                        .classed(\"red\", true);\r\n                                } else {\r\n                                    d3.select(this)\r\n                                        .classed(\"hover\", true);\r\n\r\n                                    this.endPointOfHead.x = d.x;\r\n                                    this.endPointOfHead.y = d.y;\r\n                                    this.newNode = d;\r\n                                }*/\r\n            }\r\n        }\r\n\r\n        private mouseoutNode(d) { // get target\r\n            if (this.isDragLinkHead) {\r\n                //d3.select(this)\r\n                //    .classed(\"hover\", false)\r\n                //    .classed(\"red\", false);\r\n\r\n                this.endPointOfHead.x = null;\r\n                this.endPointOfHead.y = null;\r\n                this.newNode = null;\r\n            }\r\n        }\r\n\r\n        private dragNode(d) { // get target\r\n            if (d.changingName) return;\r\n            /*\r\n                        d.userDragged = true;\r\n                        d.dragThisTime = true;\r\n                        d.fx = d3.event.x;\r\n                        d.fy = d3.event.y;\r\n\r\n                        var toElems = d3.selectAll('.to-' + d.id)[0],\r\n                            fromElems = d3.selectAll('.from-' + d.id)[0],\r\n                            curElem = d3.select(this);\r\n\r\n                        curElem\r\n                            .attr('transform', 'translate(' + d.fx + ',' + d.fy + ')')\r\n                            .select('text')\r\n                            .attr('transform', null);\r\n\r\n                        curElem\r\n                            .select('.goal-avatar')\r\n                            .attr('transform', null);\r\n\r\n                        curElem\r\n                            .select('.substrate')\r\n                            .attr('transform', null);\r\n\r\n                        curElem\r\n                            .select('.text-substrate')\r\n                            .attr('transform', null);\r\n\r\n                        curElem\r\n                            .selectAll('.goal-action')\r\n                            .attr('transform', null);\r\n\r\n                        curElem\r\n                            .select('.input-object')\r\n                            .attr('transform', null);\r\n\r\n                        toElems.forEach(function (elem) {\r\n                            d3.select(elem)\r\n                                .attr('d', function () {\r\n                                    return line([{\r\n                                            x: elem.attributes.sx.value,\r\n                                            y: elem.attributes.sy.value\r\n                                        },\r\n                                        {\r\n                                            x: d.fx,\r\n                                            y: d.fy\r\n                                        }\r\n                                    ]);\r\n                                })\r\n                        });\r\n\r\n                        fromElems.forEach(function (elem) {\r\n                            d3.select(elem)\r\n                                .attr('d', function () {\r\n                                    return line([{\r\n                                            x: d.fx,\r\n                                            y: d.fy\r\n                                        },\r\n                                        {\r\n                                            x: elem.attributes.tx.value,\r\n                                            y: elem.attributes.ty.value\r\n                                        }\r\n                                    ]);\r\n                                })\r\n                        });*/\r\n        }\r\n\r\n        private dragLinkHead() { // get target\r\n            /*var curElem = d3.select(this),\r\n                x = (Number(curElem.attr('cx')) + Number(d3.event.dx)).toFixed(2),\r\n                y = (Number(curElem.attr('cy')) + Number(d3.event.dy)).toFixed(2);\r\n\r\n            curElem\r\n                .attr('cx', x)\r\n                .attr('cy', y);\r\n\r\n            if (this.attributes.type.value == 'end') {\r\n                d3.select('.circleHead[type=start]').remove();\r\n                d3.select(selectedLink)\r\n                    .attr('d', function () {\r\n                        return line([{\r\n                                x: selectedLink.attributes.sx.value,\r\n                                y: selectedLink.attributes.sy.value\r\n                            },\r\n                            {\r\n                                x: x,\r\n                                y: y\r\n                            }\r\n                        ]);\r\n                    });\r\n            } else {\r\n                d3.select('.circleHead[type=end]').remove();\r\n                d3.select(selectedLink)\r\n                    .attr('d', function () {\r\n                        return line([{\r\n                                x: x,\r\n                                y: y\r\n                            },\r\n                            {\r\n                                x: selectedLink.attributes.tx.value,\r\n                                y: selectedLink.attributes.ty.value\r\n                            }\r\n                        ]);\r\n                    });\r\n            }*/\r\n        }\r\n\r\n        private onLinkClick(d) {\r\n            this.removeLinkSelections();\r\n\r\n            var dragLinkHeadVar = d3.behavior.drag()\r\n                .origin(Object)\r\n                .on(\"dragstart\", function (draged) {\r\n                    d3.event['sourceEvent'].stopPropagation();\r\n                    // get target\r\n                    //d3.select(this).attr( 'pointer-events', 'none');\r\n                    //this.startPointOfHead.x = Number(d3.select(this).attr('cx'));\r\n                    //this.startPointOfHead.y = Number(d3.select(this).attr('cy'));\r\n                    //this.isDragLinkHead = true;\r\n                    //this.dragedCircle = this;\r\n                })\r\n                .on(\"dragend\", (draged) => {\r\n                    this.isDragLinkHead = false;\r\n                    var curLink = d3.select(this.selectedLink);\r\n                    /*\r\n                           if (this.endPointOfHead.x != null && this.endPointOfHead.y != null) {\r\n                           \t\td.source.children = _.without(d.source.children, d.target);\r\n\r\n                           \t\tif (this.attributes.type.value == 'end') {\r\n                           \t\t\tif (d.source.id != this.newNode.id && _.findIndex(d.source.children, (o: any) => { return o.id == this.newNode.id; }) < 0) \r\n                           \t\t\t{\r\n                           \t\t\t\td.source.children.push(this.newNode);\r\n                           \t\t\t\td.target = this.newNode;\r\n\r\n                           \t\t\t\tcurLink\r\n                           \t\t\t\t\t.attr('d', () => {\r\n                           \t\t\t\t\t\treturn this.line([\r\n                           \t\t\t\t\t\t\t{x: this.selectedLink.attributes.sx.value, y: this.selectedLink.attributes.sy.value}, \r\n                           \t\t\t\t\t\t\t{x: this.endPointOfHead.x, y: this.endPointOfHead.y}\r\n                           \t\t\t\t\t\t]);\r\n                           \t\t\t\t\t})\r\n                           \t\t\t\t\t.attr('tx', this.endPointOfHead.x)\r\n                           \t\t\t\t\t.attr('ty', this.endPointOfHead.y)\r\n                           \t\t\t\t\t.attr('class', function() {\r\n                           \t\t\t\t\t\treturn 'link arrow selected to-' + this.newNode.id + ' from-' + d.source.id;\r\n                           \t\t\t\t\t});\r\n\r\n                           \t\t\t\tdrawHeadCircles();\r\n                           \t\t\t} else {\r\n                           \t\t\t\t// Remove link\r\n                           \t\t\t\tcurLink.remove();\r\n                           \t\t\t\td3.selectAll('.circleHead').remove();\r\n                           \t\t\t}\r\n                           \t\t} else {\r\n\r\n                           \t\t\tif (d.target.id != newGoal.id && _.findIndex(newGoal.children, function(o) { return o.id == d.target.id; }) < 0) \r\n                           \t\t\t{\r\n                           \t\t\t\tnewGoal.children = newGoal.children || [];\r\n                           \t\t\t\tnewGoal.children.push(d.target);\r\n                           \t\t\t\td.source = newGoal;\r\n\r\n                           \t\t\t\tcurLink\r\n                           \t\t\t\t\t.attr('d', () => {\r\n                           \t\t\t\t\t\treturn line([\r\n                           \t\t\t\t\t\t\t{x: endPointOfHead.x, y: endPointOfHead.y}, \r\n                           \t\t\t\t\t\t\t{x: selectedLink.attributes.tx.value, y: selectedLink.attributes.ty.value}\r\n                           \t\t\t\t\t\t]);\r\n                           \t\t\t\t\t})\r\n                           \t\t\t\t\t.attr('sx', endPointOfHead.x)\r\n                           \t\t\t\t\t.attr('sy', endPointOfHead.y)\r\n                           \t\t\t\t\t.attr('class', function() {\r\n                           \t\t\t\t\t\treturn 'link arrow selected to-' + d.target.id + ' from-' + newGoal.id;\r\n                           \t\t\t\t\t});\r\n\r\n                           \t\t\t\tdrawHeadCircles();\r\n                           \t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// Remove link\r\n                           \t\t\t\tcurLink.remove();\r\n                           \t\t\t\td3.selectAll('.circleHead').remove();\r\n                           \t\t\t}\r\n                           \t\t}\r\n                           } else {\r\n                           \t\tcurLink\r\n                           \t\t\t.attr('d', function() {\r\n                           \t\t\t\treturn line([\r\n                           \t\t\t\t\t{x: selectedLink.attributes.sx.value, y: selectedLink.attributes.sy.value}, \r\n                           \t\t\t\t\t{x: selectedLink.attributes.tx.value, y: selectedLink.attributes.ty.value}\r\n                           \t\t\t\t]);\r\n                           \t\t\t});\r\n\r\n                           \t\tdrawHeadCircles();\r\n                           }\r\n\r\n                           d3.select('.node.hover').classed('hover', false).classed('red', false);\r\n                           d3.select(this).attr( 'pointer-events', '' );\r\n                           dragedCircle = null;*/\r\n                })\r\n                .on(\"drag\", () => {\r\n                    this.dragLinkHead();\r\n                });\r\n\r\n            const drawHeadCircles = () => {\r\n                d3.selectAll('.circleHead')\r\n                    .remove();\r\n\r\n                this.svg\r\n                    .append('circle')\r\n                    .attr('class', 'circleHead')\r\n                    .attr('r', 10)\r\n                    .attr('type', 'end')\r\n                    .attr('cx', this.selectedLink.getPointAtLength(this.selectedLink.getTotalLength() - 42).x)\r\n                    .attr('cy', this.selectedLink.getPointAtLength(this.selectedLink.getTotalLength() - 42).y)\r\n                    .call(dragLinkHeadVar);\r\n\r\n                this.svg\r\n                    .append('circle')\r\n                    .attr('class', 'circleHead')\r\n                    .attr('r', 10)\r\n                    .attr('type', 'start')\r\n                    .attr('cx', this.selectedLink.getPointAtLength(42).x)\r\n                    .attr('cy', this.selectedLink.getPointAtLength(42).y)\r\n                    .call(dragLinkHeadVar);\r\n            }\r\n\r\n            //var curElem = d3.select(this.parentNode), // get target\r\n            //    attrs = curElem[0][0].attributes;\r\n\r\n            this.selectedLink = this;\r\n            drawHeadCircles();\r\n\r\n            /*curElem\r\n                .select(\"path.link\")\r\n                .classed('selected', true)\r\n                .attr('marker-end', 'url(#arrowSelected)');*/\r\n        }\r\n\r\n        private getBB(selection) {\r\n            selection.each(function (d) {\r\n                d.bbox = this.getBBox();\r\n            })\r\n        }\r\n\r\n        private centerNode(source: any) {\r\n            let scale = this.zoomListener.scale(),\r\n                x = -source.x0,\r\n                y = -source.y0;\r\n\r\n            x = x * scale + this.viewerWidth / 2;\r\n            y = y * scale + this.viewerHeight / 2;\r\n\r\n            d3.select('.baseG').transition()\r\n                .duration(this.duration)\r\n                .attr(\"transform\", \"translate(\" + x + \",\" + y + \")scale(\" + scale + \")\");\r\n            this.zoomListener.scale(scale);\r\n            this.zoomListener.translate([x, y]);\r\n        }\r\n\r\n        private zoom() {\r\n            this.svg.attr(\"transform\", \"translate(\" + d3.event['translate'] + \")scale(\" + d3.event['scale'] + \")\");\r\n        }\r\n    }\r\n\r\n    const MindMap: ng.IComponentOptions = {\r\n        controller: MindMapController,\r\n        bindings: MindMapBindings\r\n    }\r\n\r\n    angular.module('pipMindMap')\r\n        .component('pipMindMap', MindMap);\r\n}","angular.module('pipMindMap', []);\r\n\r\nimport './MindMap';"],"preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXgudHMiLCJzcmMvbWluZF9tYXAvTWluZE1hcC50cyIsInNyYy9taW5kX21hcC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQSxzQkFBb0I7QUFFcEIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUU7SUFDMUIsWUFBWTtDQUNmLENBQUMsQ0FBQzs7QUNKSCxDQUFDO0lBT0csSUFBTSxlQUFlLEdBQXFCO1FBQ3RDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFFRDtRQUFBO1FBSUEsQ0FBQztRQUFELDZCQUFDO0lBQUQsQ0FKQSxBQUlDLElBQUE7SUFFRDtRQW1DSSwyQkFDWSxRQUFnQjtZQUQ1QixpQkFRQztZQVBXLGFBQVEsR0FBUixRQUFRLENBQVE7WUFuQ3BCLGFBQVEsR0FBVyxHQUFHLENBQUM7WUFFdkIsV0FBTSxHQUFRO2dCQUNsQixHQUFHLEVBQUUsRUFBRTtnQkFDUCxLQUFLLEVBQUUsR0FBRztnQkFDVixNQUFNLEVBQUUsRUFBRTtnQkFDVixJQUFJLEVBQUUsR0FBRzthQUNaLENBQUM7WUFJTSxnQkFBVyxHQUFXLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUMxQyxpQkFBWSxHQUFXLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQU01QyxtQkFBYyxHQUFZLEtBQUssQ0FBQztZQUNoQyxpQkFBWSxHQUFRLElBQUksQ0FBQztZQUN6QixZQUFPLEdBQVEsSUFBSSxDQUFDO1lBQ3BCLGlCQUFZLEdBQVEsSUFBSSxDQUFDO1lBQ3pCLHFCQUFnQixHQUFRO2dCQUM1QixDQUFDLEVBQUUsSUFBSTtnQkFDUCxDQUFDLEVBQUUsSUFBSTthQUNWLENBQUM7WUFDTSxtQkFBYyxHQUFRO2dCQUMxQixDQUFDLEVBQUUsSUFBSTtnQkFDUCxDQUFDLEVBQUUsSUFBSTth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Q0FBQyxXQUFXLEVBQUUsWUFBWSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsU0FBUyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDM0csQ0FBQztRQUNMLHdCQUFDO0lBQUQsQ0E5NkJBLEFBODZCQyxJQUFBO0lBRUQsSUFBTSxPQUFPLEdBQXlCO1FBQ2xDLFVBQVUsRUFBRSxpQkFBaUI7UUFDN0IsUUFBUSxFQUFFLGVBQWU7S0FDNUIsQ0FBQTtJQUVELE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO1NBQ3ZCLFNBQVMsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDMUMsQ0FBQzs7O0FDeDhCRCxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVqQyxxQkFBbUIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0ICcuL21pbmRfbWFwJztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwaXBEaWFncmFtcycsIFtcclxuICAgICdwaXBNaW5kTWFwJ1xyXG5dKTsiLCJ7XHJcbiAgICBpbnRlcmZhY2UgSU1pbmRNYXBCaW5kaW5ncyB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xyXG5cclxuICAgICAgICBkYXRhOiBhbnk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgTWluZE1hcEJpbmRpbmdzOiBJTWluZE1hcEJpbmRpbmdzID0ge1xyXG4gICAgICAgIGRhdGE6ICc8cGlwRGF0YSdcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBNaW5kTWFwQmluZGluZ3NDaGFuZ2VzIGltcGxlbWVudHMgbmcuSU9uQ2hhbmdlc09iamVjdCwgSU1pbmRNYXBCaW5kaW5ncyB7XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xyXG5cclxuICAgICAgICBkYXRhOiBuZy5JQ2hhbmdlc09iamVjdCA8IGFueSA+IDtcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBNaW5kTWFwQ29udHJvbGxlciBpbXBsZW1lbnRzIG5nLklDb250cm9sbGVyLCBJTWluZE1hcEJpbmRpbmdzIHtcclxuICAgICAgICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXIgPSA3NTA7XHJcbiAgICAgICAgcHJpdmF0ZSByb290OiBhbnk7XHJcbiAgICAgICAgcHJpdmF0ZSBtYXJnaW46IGFueSA9IHtcclxuICAgICAgICAgICAgdG9wOiAyMCxcclxuICAgICAgICAgICAgcmlnaHQ6IDEyMCxcclxuICAgICAgICAgICAgYm90dG9tOiAyMCxcclxuICAgICAgICAgICAgbGVmdDogMTIwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcml2YXRlIHBhcmVudDogSlF1ZXJ5O1xyXG4gICAgICAgIHByaXZhdGUgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgdmlld2VyV2lkdGg6IG51bWJlciA9ICQoZG9jdW1lbnQpLndpZHRoKCk7XHJcbiAgICAgICAgcHJpdmF0ZSB2aWV3ZXJIZWlnaHQ6IG51bWJlciA9ICQoZG9jdW1lbnQpLmhlaWdodCgpO1xyXG4gICAgICAgIHByaXZhdGUgc3ZnOiBhbnk7XHJcbiAgICAgICAgcHJpdmF0ZSB6b29tTGlzdGVuZXI6IGFueTtcclxuICAgICAgICBwcml2YXRlIGRyb3BTaGFkb3dGaWx0ZXI6IGFueTtcclxuICAgICAgICBwcml2YXRlIHRyZWU6IGQzLmxheW91dC5UcmVlIDwgYW55ID4gO1xyXG4gICAgICAgIHByaXZhdGUgbGluZTogZDMuc3ZnLkxpbmUgPCBhbnkgPiA7XHJcbiAgICAgICAgcHJpdmF0ZSBpc0RyYWdMaW5rSGVhZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRMaW5rOiBhbnkgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgbmV3Tm9kZTogYW55ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIGRyYWdlZENpcmNsZTogYW55ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIHN0YXJ0UG9pbnRPZkhlYWQ6IGFueSA9IHtcclxuICAgICAgICAgICAgeDogbnVsbCxcclxuICAgICAgICAgICAgeTogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJpdmF0ZSBlbmRQb2ludE9mSGVhZDogYW55ID0ge1xyXG4gICAgICAgICAgICB4OiBudWxsLFxyXG4gICAgICAgICAgICB5OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcml2YXRlIGk6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIHB1YmxpYyBkYXRhOiBhbnlbXTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0aGlzLnpvb21MaXN0ZW5lciA9IGQzLmJlaGF2aW9yLnpvb20oKS5zY2FsZUV4dGVudChbMC4yLCAyLjVdKS5vbignem9vbScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuem9vbSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdENvbXBvbmVudCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGluaXRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy4kZWxlbWVudC5wYXJlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnBhcmVudC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucGFyZW50LndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluaXRTdmcoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0QXJyb3dNYXJrZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFNoYWRvd0ZpbHRlcigpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRDb21tb25WYXJzKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YSB8fCAhXy5pc0FycmF5KHRoaXMuZGF0YSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0Um9vdCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnJvb3QpO1xyXG4gICAgICAgICAgICB0aGlzLmNlbnRlck5vZGUodGhpcy5yb290KTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0KHNlbGYuZnJhbWVFbGVtZW50KS5zdHlsZShcImhlaWdodFwiLCBcIjUwMHB4XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRSb290KCkge1xyXG4gICAgICAgICAgICAvLyBJbml0IGNvb3JkaW5hdGVzIGZvciByb290IGVsZW1lbnRcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gdGhpcy5kYXRhWzBdO1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QueDAgPSB0aGlzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdC55MCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgJG9uQ2hhbmdlcyhjaGFuZ2VzOiBNaW5kTWFwQmluZGluZ3NDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLmRhdGEgJiYgY2hhbmdlcy5kYXRhLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlcy5kYXRhLnByZXZpb3VzVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJvb3QoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucm9vdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlbnRlck5vZGUodGhpcy5yb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbml0U3ZnKCkge1xyXG4gICAgICAgICAgICB0aGlzLnN2ZyA9IGQzXHJcbiAgICAgICAgICAgICAgICAuc2VsZWN0KHRoaXMuJGVsZW1lbnQuZ2V0KDApKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInN2Z1wiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3Jvb3QnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB0aGlzLnZpZXdlcldpZHRoKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQgLSA0KSAvLyBNaW51cyA0IHRvIGF2b2lkIHRoZSBhcHBlYXJhbmNlIG9mIGEgc2Nyb2xsXHJcbiAgICAgICAgICAgICAgICAuY2FsbCh0aGlzLnpvb21MaXN0ZW5lcilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFzZUcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLm1hcmdpbi5sZWZ0ICsgXCIsXCIgKyB0aGlzLm1hcmdpbi50b3AgKyBcIilcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGluaXRBcnJvd01hcmtlcnMoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ZnXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwibWFya2VyXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImFycm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2aWV3Qm94XCI6IFwiMCAtNSAxMCAxMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicmVmWFwiOiAzNixcclxuICAgICAgICAgICAgICAgICAgICBcInJlZllcIjogMCxcclxuICAgICAgICAgICAgICAgICAgICBcIm1hcmtlcldpZHRoXCI6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJrZXJIZWlnaHRcIjogNCxcclxuICAgICAgICAgICAgICAgICAgICBcIm9yaWVudFwiOiBcImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgXCJNMCwtNUwxMCwwTDAsNVwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImFycm93SGVhZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ZnXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwibWFya2VyXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImFycm93U2VsZWN0ZWRcIixcclxuICAgICAgICAgICAgICAgICAgICBcInZpZXdCb3hcIjogXCIwIC01IDEwIDEwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyZWZYXCI6IDUyLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicmVmWVwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibWFya2VyV2lkdGhcIjogNCxcclxuICAgICAgICAgICAgICAgICAgICBcIm1hcmtlckhlaWdodFwiOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIFwib3JpZW50XCI6IFwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBcIk0wLC01TDEwLDBMMCw1XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYXJyb3dTZWxlY3RlZEhlYWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGluaXRTaGFkb3dGaWx0ZXIoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcFNoYWRvd0ZpbHRlciA9IHRoaXMuc3ZnLmFwcGVuZCgnc3ZnOmZpbHRlcicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnZHJvcC1zaGFkb3cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsICcxMzAlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcFNoYWRvd0ZpbHRlci5hcHBlbmQoJ3N2ZzpmZUdhdXNzaWFuQmx1cicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaW4nLCAnU291cmNlQWxwaGEnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0ZERldmlhdGlvbicsIDEpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigncmVzdWx0JywgJ2JsdXInKTtcclxuICAgICAgICAgICAgdGhpcy5kcm9wU2hhZG93RmlsdGVyLmFwcGVuZCgnc3ZnOmZlT2Zmc2V0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpbicsICdibHVyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkeCcsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZHknLCAyKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3Jlc3VsdCcsICdvZmZzZXRCbHVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcFNoYWRvd0ZpbHRlci5hcHBlbmQoJ3N2ZzpmZUNvbXBvbmVudFRyYW5zZmVyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpbicsICdvZmZzZXRCbHVyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdyZXN1bHQnLCAndHJhbnNmZXInKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnc3ZnOmZlRnVuY0EnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3R5cGUnLCAnbGluZWFyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzbG9wZScsIDAuNCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJvcFNoYWRvd0ZpbHRlci5hcHBlbmQoJ3N2ZzpmZUJsZW5kJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpbicsICdTb3VyY2VHcmFwaGljJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdpbjInLCAndHJhbnNmZXInKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ21vZGUnLCAnbm9ybWFsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGluaXRDb21tb25WYXJzKCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyZWUgPSBkMy5sYXlvdXQudHJlZSgpXHJcbiAgICAgICAgICAgICAgICAuc2l6ZShbdGhpcy52aWV3ZXJXaWR0aCwgdGhpcy52aWV3ZXJIZWlnaHRdKVxyXG4gICAgICAgICAgICAgICAgLm5vZGVTaXplKFs1MCwgNjAwXSlcclxuICAgICAgICAgICAgICAgIC5zZXBhcmF0aW9uKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhLnBhcmVudCA9PSBiLnBhcmVudCA/IDEgOiAyKSAvIGEuZGVwdGg7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGluZSA9IGQzLnN2Zy5saW5lKClcclxuICAgICAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC54O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC55O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5pbnRlcnBvbGF0ZSgnbGluZWFyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXBkYXRlKHNvdXJjZTogYW55KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50cmVlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVQb2ludHMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2gobm9kZXMsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuZnggJiYgZC5meSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLnggPSBkLmZ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLnkgPSBkLmZ5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVMaW5rcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbExpbmtzID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwicGF0aC5saW5rXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFsbExpbmtzXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N4JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuc291cmNlLng7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3knLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0eCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC54O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3R5JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGdldFRyYW5zZm9ybSA9IChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZC51c2VyRHJhZ2dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJvdGF0ZShcIiArIChkLnggLSA5MCkgKyBcIil0cmFuc2xhdGUoXCIgKyBkLnkgKyBcIiwgMClcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgbmV3IHRyZWUgbGF5b3V0XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy50cmVlLm5vZGVzKHRoaXMucm9vdCkucmV2ZXJzZSgpLFxyXG4gICAgICAgICAgICAgICAgbGlua3MgPSB0aGlzLnRyZWUubGlua3Mobm9kZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBub2Rlc+KAplxyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiZy5ub2RlXCIpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShub2RlcywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5pZCB8fCAoZC5pZCA9ICsrdGhpcy5pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB1cGRhdGVQb2ludHMoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdOb2RlVmFyID0gZDMuYmVoYXZpb3IuZHJhZygpXHJcbiAgICAgICAgICAgICAgICAub3JpZ2luKE9iamVjdClcclxuICAgICAgICAgICAgICAgIC5vbihcImRyYWdzdGFydFwiLCAoZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaW5rU2VsZWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGQuZHJhZ1RoaXNUaW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZDMuZXZlbnRbJ3NvdXJjZUV2ZW50J10uc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiZHJhZ2VuZFwiLCAoZDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUG9pbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTGlua3MoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oXCJkcmFnXCIsIChkOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdOb2RlKGQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBFbnRlciBhbnkgbmV3IG5vZGVzIGF0IHRoZSBwYXJlbnQncyBwcmV2aW91cyBwb3NpdGlvbi5cclxuICAgICAgICAgICAgY29uc3Qgbm9kZUVudGVyID0gbm9kZS5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJub2RlXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUcmFuc2Zvcm0oc291cmNlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oXCJkYmxjbGlja1wiLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGJsY2xpY2tOb2RlKGQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlja05vZGUoZCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZW92ZXJOb2RlKGQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZW91dE5vZGUoZCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhbGwoZHJhZ05vZGVWYXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gUGF0dGVybiB0byBmaWxsIGNpcmNsZSBieSBhdmF0YXJcclxuICAgICAgICAgICAgbm9kZUVudGVyLmFwcGVuZChcInBhdHRlcm5cIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3BhdHRlcm4taW1hZ2UtJyArIGQuaWQ7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgMSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgMSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBcIjBcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCBcIjBcIilcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2ltYWdlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCA2NClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIDY0KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuaW1nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBub2RlRW50ZXIuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAxNilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdzdWJzdHJhdGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudXNlckRyYWdnZWQgPyBcIlwiIDogXCJyb3RhdGUoXCIgKyAoLWQueCArIDkwKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdHlsZSgnZmlsdGVyJywgJ3VybCgjZHJvcC1zaGFkb3cpJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBOb2RlIGNpcmNsZVxyXG4gICAgICAgICAgICBub2RlRW50ZXIuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAxNilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnVzZXJEcmFnZ2VkID8gXCJcIiA6IFwicm90YXRlKFwiICsgKC1kLnggKyA5MCkgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ29hbC1hdmF0YXInKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInVybCgjcGF0dGVybi1pbWFnZS1cIiArIGQuaWQgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gTmFtZSBvZiB0aGUgbm9kZVxyXG4gICAgICAgICAgICBub2RlRW50ZXJcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgMzYpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC51c2VyRHJhZ2dlZCA/IFwiXCIgOiBcInJvdGF0ZShcIiArICgtZC54ICsgOTApICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpXHJcbiAgICAgICAgICAgICAgICAudGV4dCgoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYWxsKHRoaXMuZ2V0QkIpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsICdub25lJyk7XHJcblxyXG4gICAgICAgICAgICBub2RlRW50ZXJcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2Zzpmb3JlaWduT2JqZWN0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdpbnB1dC1vYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDMzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudXNlckRyYWdnZWQgPyBcIlwiIDogXCJyb3RhdGUoXCIgKyAoLWQueCArIDkwKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAtMTEpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuYmJveC53aWR0aCArIDE2XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5iYm94LmhlaWdodFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3hodG1sOmlucHV0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndmFsdWUnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Ob2RlVGV4dENsaWNrKGQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbigna2V5ZG93bicsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZU5vZGVOYW1lKGQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignZm9jdXMnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuY2hhbmdpbmdOYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2JsdXInLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGQuY2hhbmdpbmdOYW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKCd3aWR0aCcsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkLmJib3gud2lkdGggKyAxNikgKyAncHgnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKCdoZWlnaHQnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZC5iYm94LmhlaWdodCkgKyAncHgnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gbm9kZXMgdG8gdGhlaXIgbmV3IHBvc2l0aW9uLlxyXG4gICAgICAgICAgICBjb25zdCBub2RlVXBkYXRlID0gbm9kZS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgIC5kdXJhdGlvbih0aGlzLmR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VHJhbnNmb3JtKGQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5lYWNoKCdlbmQnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQudHJlZVggPSBfLmNsb25lKGQueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZC50cmVlWSA9IF8uY2xvbmUoZC55KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZC54ID0gZDMudHJhbnNmb3JtKGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwidHJhbnNmb3JtXCIpKS50cmFuc2xhdGVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgZC55ID0gZDMudHJhbnNmb3JtKGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwidHJhbnNmb3JtXCIpKS50cmFuc2xhdGVbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGQuZnggPSBkMy50cmFuc2Zvcm0oZDMuc2VsZWN0KHRoaXMpLmF0dHIoXCJ0cmFuc2Zvcm1cIikpLnRyYW5zbGF0ZVswXTtcclxuICAgICAgICAgICAgICAgICAgICBkLmZ5ID0gZDMudHJhbnNmb3JtKGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwidHJhbnNmb3JtXCIpKS50cmFuc2xhdGVbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgZC51c2VyRHJhZ2dlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5vZGVVcGRhdGUuc2VsZWN0KFwiY2lyY2xlXCIpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidXJsKFwiICsgZC5pbWcgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC51c2VyRHJhZ2dlZCA/IFwiXCIgOiBcInJvdGF0ZShcIiArICgtZC54ICsgOTApICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsICczMnB4Jyk7XHJcblxyXG4gICAgICAgICAgICBub2RlVXBkYXRlLnNlbGVjdChcIi5nb2FsLWF2YXRhclwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudXNlckRyYWdnZWQgPyBcIlwiIDogXCJyb3RhdGUoXCIgKyAoLWQueCArIDkwKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiclwiLCAnMzJweCcpO1xyXG5cclxuICAgICAgICAgICAgbm9kZVVwZGF0ZS5zZWxlY3QoXCJmb3JlaWduT2JqZWN0LmlucHV0LW9iamVjdFwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudXNlckRyYWdnZWQgPyBcIlwiIDogXCJyb3RhdGUoXCIgKyAoLWQueCArIDkwKSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gZXhpdGluZyBub2RlcyB0byB0aGUgcGFyZW50J3MgbmV3IHBvc2l0aW9uLlxyXG4gICAgICAgICAgICBjb25zdCBub2RlRXhpdCA9IG5vZGUuZXhpdCgpO1xyXG4gICAgICAgICAgICBub2RlRXhpdFxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdChcIi5pbnB1dC1vYmplY3RcIilcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMCk7XHJcbiAgICAgICAgICAgIG5vZGVFeGl0XHJcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24odGhpcy5kdXJhdGlvbilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRyYW5zZm9ybShzb3VyY2UpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIG5vZGVFeGl0LnNlbGVjdChcImNpcmNsZVwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIDE2KVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDApO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsaW5rc+KAplxyXG4gICAgICAgICAgICBjb25zdCBsaW5rID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiZy5saW5rLWZvcm1cIilcclxuICAgICAgICAgICAgICAgIC5kYXRhKGxpbmtzLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdldC5pZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRW50ZXIgYW55IG5ldyBsaW5rcyBhdCB0aGUgcGFyZW50J3MgcHJldmlvdXMgcG9zaXRpb24uXHJcbiAgICAgICAgICAgIGxpbmsuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmluc2VydChcImdcIiwgXCJnXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluay1mb3JtJylcclxuICAgICAgICAgICAgICAgIC5pbnNlcnQoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibGluayBhcnJvdyBcIiArIFwidG8tXCIgKyBkLnRhcmdldC5pZCArIFwiIGZyb20tXCIgKyBkLnNvdXJjZS5pZDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBzb3VyY2UueTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBzb3VyY2UueDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBzb3VyY2UueTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBzb3VyY2UueDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTGlua0NsaWNrKGQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIGxpbmtzIHRvIHRoZWlyIG5ldyBwb3NpdGlvbi5cclxuICAgICAgICAgICAgbGlua1xyXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLmR1cmF0aW9uKHRoaXMuZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAuc2VsZWN0KFwicGF0aC5saW5rXCIpXHJcbiAgICAgICAgICAgICAgICAuZWFjaCgnZW5kJywgKGwsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoZDMuc2VsZWN0QWxsKCdwYXRoLmxpbmsnKVswXVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkXCI6IChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IGQuc291cmNlLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBkLnNvdXJjZS55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogZC50YXJnZXQueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IGQudGFyZ2V0LnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzeCcsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5zb3VyY2UueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N5JywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnNvdXJjZS55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHgnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQudGFyZ2V0Lng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0eScsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC50YXJnZXQueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hcmtlci1lbmRcIjogXCJ1cmwoI2Fycm93KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIGV4aXRpbmcgbm9kZXMgdG8gdGhlIHBhcmVudCdzIG5ldyBwb3NpdGlvbi5cclxuICAgICAgICAgICAgbGluay5leGl0KCkudHJhbnNpdGlvbigpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3Rhc2ggdGhlIG9sZCBwb3NpdGlvbnMgZm9yIHRyYW5zaXRpb24uXHJcbiAgICAgICAgICAgIF8uZWFjaChub2RlcywgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGQueDAgPSBkLng7XHJcbiAgICAgICAgICAgICAgICBkLnkwID0gZC55O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGJsY2xpY2tOb2RlKGQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaW5rU2VsZWN0aW9ucygpO1xyXG4gICAgICAgICAgICBkMy5ldmVudFsnc3RvcFByb3BhZ2F0aW9uJ10oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBkLl9jaGlsZHJlbiA9IGQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBkLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGQuY2hpbGRyZW4gPSBkLl9jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIGQuX2NoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkKTtcclxuICAgICAgICAgICAgdGhpcy5jZW50ZXJOb2RlKGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93Tm9kZUFjdGlvbnMoZWxlbWVudCwgZCkge1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25zID0gW3tcclxuICAgICAgICAgICAgICAgICAgICB4OiA0MCxcclxuICAgICAgICAgICAgICAgICAgICB5OiAtNDBcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IC01NVxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IC00MCxcclxuICAgICAgICAgICAgICAgICAgICB5OiAtNDBcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICB4OiAtNTUsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IC00MCxcclxuICAgICAgICAgICAgICAgICAgICB5OiA0MFxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogNTVcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgY3VyRWxlbWVudCA9IGQzLnNlbGVjdCgkKGVsZW1lbnQpLnBhcmVudCgnLm5vZGUnKS5nZXQoMCkpO1xyXG5cclxuICAgICAgICAgICAgY3VyRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ25vZGUgc2VsZWN0ZWQnKVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgnLmlucHV0LW9iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGQuYmJveC53aWR0aCArIDE2LCAyNTApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5iYm94LmhlaWdodCArIDE2XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIC0xOSlcclxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJ2lucHV0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwid2lkdGhcIiwgKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZC5iYm94LndpZHRoICsgMTYsIDI1MCkgKyAncHgnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiaGVpZ2h0XCIsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkLmJib3guaGVpZ2h0ICsgMTYpICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY3VyRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhY3Rpb25OdW1iZXInLCBpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdnb2FsLWFjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnVzZXJEcmFnZ2VkID8gXCJcIiA6IFwicm90YXRlKFwiICsgKC1kLnRyZWVYICsgOTApICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3gnLCBwb3NpdGlvbnNbaV0ueClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCBwb3NpdGlvbnNbaV0ueSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2ZpbHRlcicsICd1cmwoI2Ryb3Atc2hhZG93KScpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Ob2RlQWN0aW9uQ2xpY2soZCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDIwMCAqIChpICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAxNik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGQubm9kZVNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlkZU5vZGVBY3Rpb25zKGVsZW1lbnQsIGQpIHtcclxuICAgICAgICAgICAgdmFyIGN1ckVsZW1lbnQgPSBkMy5zZWxlY3QoJChlbGVtZW50KS5wYXJlbnQoJy5ub2RlJykuZ2V0KDApKTtcclxuXHJcbiAgICAgICAgICAgIGN1ckVsZW1lbnRcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdub2RlJylcclxuICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5nb2FsLWFjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24odGhpcy5kdXJhdGlvbiAtIDQwMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgMClcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGN1ckVsZW1lbnRcclxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJy5pbnB1dC1vYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIC0xMSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZC5iYm94LndpZHRoICsgMTYsIDI1MClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmJib3guaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgnaW5wdXQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGQuYmJveC53aWR0aCArIDE2LCAyNTApICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmJib3guaGVpZ2h0ICsgJ3B4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkLm5vZGVTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjbGlja05vZGUoZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpbmtTZWxlY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGlmIChkLmRyYWdUaGlzVGltZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgZC5jbGlja2VkID0gIWQuY2xpY2tlZDtcclxuICAgICAgICAgICAgZC5jbGlja2VkID8gdGhpcy5zaG93Tm9kZUFjdGlvbnMoZDMuZXZlbnRbJ3RhcmdldCddLCBkKSA6IHRoaXMuaGlkZU5vZGVBY3Rpb25zKGQzLmV2ZW50Wyd0YXJnZXQnXSwgZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uTm9kZVRleHRDbGljayhkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLm5vZGVTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgZDMuZXZlbnRbJ3N0b3BQcm9wYWdhdGlvbiddKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVtb3ZlTGlua1NlbGVjdGlvbnMoKSB7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgncGF0aC5saW5rJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICBcIm1hcmtlci1lbmRcIjogXCJ1cmwoI2Fycm93KVwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY2lyY2xlSGVhZCcpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluayA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uQ2hhbmdlTm9kZU5hbWUoZCkgeyAvLyBnZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgIC8vY29uc3QgY3VyRWxlbWVudCA9IGQzLnNlbGVjdCgvKnRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlKi8pO1xyXG5cclxuICAgICAgICAgICAgLy9kLnRpdGxlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoZC50aXRsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKHRoaXMuZ2V0QkIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdCgnLmlucHV0LW9iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24odGhpcy5kdXJhdGlvbiAtIDQwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZC5iYm94LndpZHRoICsgMTYsIDI1MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCdpbnB1dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihkLmJib3gud2lkdGggKyAxNiwgMjUwKSArICdweCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uTm9kZUFjdGlvbkNsaWNrKGQsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZDMuZXZlbnRbJ3N0b3BQcm9wYWdhdGlvbiddKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc291cmNlOiAnLCBkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2FjdGlvbiBudW1iZXI6ICcsIGVsZW1lbnQuYXR0cmlidXRlcy5hY3Rpb25OdW1iZXIudmFsdWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBtb3VzZW92ZXJOb2RlKGQpIHsgLy8gZ2V0IHRhcmdldFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYWdMaW5rSGVhZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RyYWdlZENpcmNsZS5hdHRyaWJ1dGVzLnR5cGUudmFsdWUnLCB0aGlzLmRyYWdlZENpcmNsZS5hdHRyaWJ1dGVzLnR5cGUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5pZCA9PSAnMScgJiYgdGhpcy5kcmFnZWRDaXJjbGUuYXR0cmlidXRlcy50eXBlLnZhbHVlID09ICdlbmQnICYmIHRoaXMuc2VsZWN0ZWRMaW5rLl9fZGF0YV9fLnNvdXJjZS5pZCAhPSAnMScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZChcImhvdmVyXCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZChcInJlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jbGFzc2VkKFwiaG92ZXJcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZFBvaW50T2ZIZWFkLnggPSBkLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kUG9pbnRPZkhlYWQueSA9IGQueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdOb2RlID0gZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBtb3VzZW91dE5vZGUoZCkgeyAvLyBnZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ0xpbmtIZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2QzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgLmNsYXNzZWQoXCJob3ZlclwiLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgIC8vICAgIC5jbGFzc2VkKFwicmVkXCIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZFBvaW50T2ZIZWFkLnggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRQb2ludE9mSGVhZC55ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV3Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZHJhZ05vZGUoZCkgeyAvLyBnZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgIGlmIChkLmNoYW5naW5nTmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLnVzZXJEcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZC5kcmFnVGhpc1RpbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkLmZ4ID0gZDMuZXZlbnQueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZC5meSA9IGQzLmV2ZW50Lnk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9FbGVtcyA9IGQzLnNlbGVjdEFsbCgnLnRvLScgKyBkLmlkKVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21FbGVtcyA9IGQzLnNlbGVjdEFsbCgnLmZyb20tJyArIGQuaWQpWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbSA9IGQzLnNlbGVjdCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBkLmZ4ICsgJywnICsgZC5meSArICcpJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdCgnLmdvYWwtYXZhdGFyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoJy5zdWJzdHJhdGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRWxlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdCgnLnRleHQtc3Vic3RyYXRlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckVsZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5nb2FsLWFjdGlvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCcuaW5wdXQtb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGVsZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lKFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogZWxlbS5hdHRyaWJ1dGVzLnN4LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGVsZW0uYXR0cmlidXRlcy5zeS52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBkLmZ4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGQuZnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGVsZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5lKFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogZC5meCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBkLmZ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGVsZW0uYXR0cmlidXRlcy50eC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBlbGVtLmF0dHJpYnV0ZXMudHkudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZHJhZ0xpbmtIZWFkKCkgeyAvLyBnZXQgdGFyZ2V0XHJcbiAgICAgICAgICAgIC8qdmFyIGN1ckVsZW0gPSBkMy5zZWxlY3QodGhpcyksXHJcbiAgICAgICAgICAgICAgICB4ID0gKE51bWJlcihjdXJFbGVtLmF0dHIoJ2N4JykpICsgTnVtYmVyKGQzLmV2ZW50LmR4KSkudG9GaXhlZCgyKSxcclxuICAgICAgICAgICAgICAgIHkgPSAoTnVtYmVyKGN1ckVsZW0uYXR0cignY3knKSkgKyBOdW1iZXIoZDMuZXZlbnQuZHkpKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgICAgICAgICAgY3VyRWxlbVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2N4JywgeClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIHkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlcy50eXBlLnZhbHVlID09ICdlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJy5jaXJjbGVIZWFkW3R5cGU9c3RhcnRdJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3Qoc2VsZWN0ZWRMaW5rKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZShbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHNlbGVjdGVkTGluay5hdHRyaWJ1dGVzLnN4LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHNlbGVjdGVkTGluay5hdHRyaWJ1dGVzLnN5LnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgnLmNpcmNsZUhlYWRbdHlwZT1lbmRdJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3Qoc2VsZWN0ZWRMaW5rKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluZShbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBzZWxlY3RlZExpbmsuYXR0cmlidXRlcy50eC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBzZWxlY3RlZExpbmsuYXR0cmlidXRlcy50eS52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSovXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9uTGlua0NsaWNrKGQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaW5rU2VsZWN0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRyYWdMaW5rSGVhZFZhciA9IGQzLmJlaGF2aW9yLmRyYWcoKVxyXG4gICAgICAgICAgICAgICAgLm9yaWdpbihPYmplY3QpXHJcbiAgICAgICAgICAgICAgICAub24oXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24gKGRyYWdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGQzLmV2ZW50Wydzb3VyY2VFdmVudCddLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB0YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICAvL2QzLnNlbGVjdCh0aGlzKS5hdHRyKCAncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdGFydFBvaW50T2ZIZWFkLnggPSBOdW1iZXIoZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2N4JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdGFydFBvaW50T2ZIZWFkLnkgPSBOdW1iZXIoZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2N5JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5pc0RyYWdMaW5rSGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmRyYWdlZENpcmNsZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiZHJhZ2VuZFwiLCAoZHJhZ2VkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdMaW5rSGVhZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJMaW5rID0gZDMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRMaW5rKTtcclxuICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmRQb2ludE9mSGVhZC54ICE9IG51bGwgJiYgdGhpcy5lbmRQb2ludE9mSGVhZC55ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdGQuc291cmNlLmNoaWxkcmVuID0gXy53aXRob3V0KGQuc291cmNlLmNoaWxkcmVuLCBkLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0aWYgKHRoaXMuYXR0cmlidXRlcy50eXBlLnZhbHVlID09ICdlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdGlmIChkLnNvdXJjZS5pZCAhPSB0aGlzLm5ld05vZGUuaWQgJiYgXy5maW5kSW5kZXgoZC5zb3VyY2UuY2hpbGRyZW4sIChvOiBhbnkpID0+IHsgcmV0dXJuIG8uaWQgPT0gdGhpcy5uZXdOb2RlLmlkOyB9KSA8IDApIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0ZC5zb3VyY2UuY2hpbGRyZW4ucHVzaCh0aGlzLm5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdGQudGFyZ2V0ID0gdGhpcy5uZXdOb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRjdXJMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHQuYXR0cignZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMubGluZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0e3g6IHRoaXMuc2VsZWN0ZWRMaW5rLmF0dHJpYnV0ZXMuc3gudmFsdWUsIHk6IHRoaXMuc2VsZWN0ZWRMaW5rLmF0dHJpYnV0ZXMuc3kudmFsdWV9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHR7eDogdGhpcy5lbmRQb2ludE9mSGVhZC54LCB5OiB0aGlzLmVuZFBvaW50T2ZIZWFkLnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdC5hdHRyKCd0eCcsIHRoaXMuZW5kUG9pbnRPZkhlYWQueClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdC5hdHRyKCd0eScsIHRoaXMuZW5kUG9pbnRPZkhlYWQueSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRyZXR1cm4gJ2xpbmsgYXJyb3cgc2VsZWN0ZWQgdG8tJyArIHRoaXMubmV3Tm9kZS5pZCArICcgZnJvbS0nICsgZC5zb3VyY2UuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHR9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0ZHJhd0hlYWRDaXJjbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0Ly8gUmVtb3ZlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRjdXJMaW5rLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdGQzLnNlbGVjdEFsbCgnLmNpcmNsZUhlYWQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0fSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdGlmIChkLnRhcmdldC5pZCAhPSBuZXdHb2FsLmlkICYmIF8uZmluZEluZGV4KG5ld0dvYWwuY2hpbGRyZW4sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uaWQgPT0gZC50YXJnZXQuaWQ7IH0pIDwgMCkgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRuZXdHb2FsLmNoaWxkcmVuID0gbmV3R29hbC5jaGlsZHJlbiB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRuZXdHb2FsLmNoaWxkcmVuLnB1c2goZC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdGQuc291cmNlID0gbmV3R29hbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0Y3VyTGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0LmF0dHIoJ2QnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdHJldHVybiBsaW5lKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHR7eDogZW5kUG9pbnRPZkhlYWQueCwgeTogZW5kUG9pbnRPZkhlYWQueX0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdHt4OiBzZWxlY3RlZExpbmsuYXR0cmlidXRlcy50eC52YWx1ZSwgeTogc2VsZWN0ZWRMaW5rLmF0dHJpYnV0ZXMudHkudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdC5hdHRyKCdzeCcsIGVuZFBvaW50T2ZIZWFkLngpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHQuYXR0cignc3knLCBlbmRQb2ludE9mSGVhZC55KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdFx0LmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdHJldHVybiAnbGluayBhcnJvdyBzZWxlY3RlZCB0by0nICsgZC50YXJnZXQuaWQgKyAnIGZyb20tJyArIG5ld0dvYWwuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XHR9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0ZHJhd0hlYWRDaXJjbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRjdXJMaW5rLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdGQzLnNlbGVjdEFsbCgnLmNpcmNsZUhlYWQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0Y3VyTGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHQuYXR0cignZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHRcdHJldHVybiBsaW5lKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdHt4OiBzZWxlY3RlZExpbmsuYXR0cmlidXRlcy5zeC52YWx1ZSwgeTogc2VsZWN0ZWRMaW5rLmF0dHJpYnV0ZXMuc3kudmFsdWV9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdFx0XHRcdHt4OiBzZWxlY3RlZExpbmsuYXR0cmlidXRlcy50eC52YWx1ZSwgeTogc2VsZWN0ZWRMaW5rLmF0dHJpYnV0ZXMudHkudmFsdWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdFx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdGRyYXdIZWFkQ2lyY2xlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJy5ub2RlLmhvdmVyJykuY2xhc3NlZCgnaG92ZXInLCBmYWxzZSkuY2xhc3NlZCgncmVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0ciggJ3BvaW50ZXItZXZlbnRzJywgJycgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2VkQ2lyY2xlID0gbnVsbDsqL1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcImRyYWdcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0xpbmtIZWFkKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRyYXdIZWFkQ2lyY2xlcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNpcmNsZUhlYWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NpcmNsZUhlYWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgMTApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3R5cGUnLCAnZW5kJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3gnLCB0aGlzLnNlbGVjdGVkTGluay5nZXRQb2ludEF0TGVuZ3RoKHRoaXMuc2VsZWN0ZWRMaW5rLmdldFRvdGFsTGVuZ3RoKCkgLSA0MikueClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCB0aGlzLnNlbGVjdGVkTGluay5nZXRQb2ludEF0TGVuZ3RoKHRoaXMuc2VsZWN0ZWRMaW5rLmdldFRvdGFsTGVuZ3RoKCkgLSA0MikueSlcclxuICAgICAgICAgICAgICAgICAgICAuY2FsbChkcmFnTGlua0hlYWRWYXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2lyY2xlSGVhZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAxMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHlwZScsICdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2N4JywgdGhpcy5zZWxlY3RlZExpbmsuZ2V0UG9pbnRBdExlbmd0aCg0MikueClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCB0aGlzLnNlbGVjdGVkTGluay5nZXRQb2ludEF0TGVuZ3RoKDQyKS55KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYWxsKGRyYWdMaW5rSGVhZFZhcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdmFyIGN1ckVsZW0gPSBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKSwgLy8gZ2V0IHRhcmdldFxyXG4gICAgICAgICAgICAvLyAgICBhdHRycyA9IGN1ckVsZW1bMF1bMF0uYXR0cmlidXRlcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gdGhpcztcclxuICAgICAgICAgICAgZHJhd0hlYWRDaXJjbGVzKCk7XHJcblxyXG4gICAgICAgICAgICAvKmN1ckVsZW1cclxuICAgICAgICAgICAgICAgIC5zZWxlY3QoXCJwYXRoLmxpbmtcIilcclxuICAgICAgICAgICAgICAgIC5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignbWFya2VyLWVuZCcsICd1cmwoI2Fycm93U2VsZWN0ZWQpJyk7Ki9cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0QkIoc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBkLmJib3ggPSB0aGlzLmdldEJCb3goKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2VudGVyTm9kZShzb3VyY2U6IGFueSkge1xyXG4gICAgICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLnpvb21MaXN0ZW5lci5zY2FsZSgpLFxyXG4gICAgICAgICAgICAgICAgeCA9IC1zb3VyY2UueDAsXHJcbiAgICAgICAgICAgICAgICB5ID0gLXNvdXJjZS55MDtcclxuXHJcbiAgICAgICAgICAgIHggPSB4ICogc2NhbGUgKyB0aGlzLnZpZXdlcldpZHRoIC8gMjtcclxuICAgICAgICAgICAgeSA9IHkgKiBzY2FsZSArIHRoaXMudmlld2VySGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCgnLmJhc2VHJykudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24odGhpcy5kdXJhdGlvbilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgeCArIFwiLFwiICsgeSArIFwiKXNjYWxlKFwiICsgc2NhbGUgKyBcIilcIik7XHJcbiAgICAgICAgICAgIHRoaXMuem9vbUxpc3RlbmVyLnNjYWxlKHNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy56b29tTGlzdGVuZXIudHJhbnNsYXRlKFt4LCB5XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHpvb20oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ZnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBkMy5ldmVudFsndHJhbnNsYXRlJ10gKyBcIilzY2FsZShcIiArIGQzLmV2ZW50WydzY2FsZSddICsgXCIpXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBNaW5kTWFwOiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IHtcclxuICAgICAgICBjb250cm9sbGVyOiBNaW5kTWFwQ29udHJvbGxlcixcclxuICAgICAgICBiaW5kaW5nczogTWluZE1hcEJpbmRpbmdzXHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3BpcE1pbmRNYXAnKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcE1pbmRNYXAnLCBNaW5kTWFwKTtcclxufSIsImFuZ3VsYXIubW9kdWxlKCdwaXBNaW5kTWFwJywgW10pO1xyXG5cclxuaW1wb3J0ICcuL01pbmRNYXAnOyJdfQ=="}